<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Future Feature Ideas</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/png" href="favicon.png">
    <style>
        :root {
            --bg-primary: #f0f2f5;
            --bg-secondary: #ffffff;
            --text-primary: #1a1a1a;
            --text-secondary: #666666;
            --accent: #007bff;
            --accent-hover: #0056b3;
            --border: #e1e5e9;
            --shadow: rgba(0, 0, 0, 0.1);
        }

        [data-theme="dark"] {
            --bg-primary: #0f0f0f;
            --bg-secondary: #1a1a1a;
            --text-primary: #ffffff;
            --text-secondary: #b0b0b0;
            --accent: #dc3545;
            --accent-hover: #c82333;
            --border: #333333;
            --shadow: rgba(0, 0, 0, 0.5);
        }

        body {
            background-color: var(--bg-primary);
            color: var(--text-primary);
            transition: background-color 0.3s, color 0.3s;
        }

        .ideas-wrapper {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            padding-top: 20px;
        }

        .header-buttons {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            display: flex;
            gap: 10px;
        }

        .home-btn,
        .theme-toggle-btn {
            background-color: var(--bg-secondary);
            color: var(--text-primary);
            border: 2px solid var(--border);
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
            font-weight: 500;
            text-decoration: none;
            display: inline-block;
        }

        .home-btn:hover,
        .theme-toggle-btn:hover {
            border-color: var(--accent);
            box-shadow: 0 0 5px var(--shadow);
        }

        .ideas-container {
            max-width: 600px;
            margin: 40px auto;
            padding: 20px;
        }

        .ideas-header {
            text-align: center;
            margin-bottom: 10px;
        }

        .ideas-header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            color: var(--text-primary);
        }

        .ideas-description {
            text-align: center;
            color: var(--text-primary);
            margin-bottom: 30px;
            font-size: 1.1em;
        }

        .info-box {
            background-color: var(--bg-secondary);
            color: var(--text-primary);
            padding: 15px;
            border-radius: 4px;
            margin-bottom: 20px;
            border-left: 4px solid var(--accent);
            transition: background-color 0.3s, color 0.3s;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: var(--text-primary);
            transition: color 0.3s;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 10px;
            background-color: var(--bg-secondary);
            color: var(--text-primary);
            border: 1px solid var(--border);
            border-radius: 4px;
            font-size: 1em;
            font-family: inherit;
            box-sizing: border-box;
            transition: background-color 0.3s, color 0.3s, border-color 0.3s;
        }

        .form-group textarea {
            resize: vertical;
            min-height: 150px;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 5px rgba(220, 53, 69, 0.3);
        }

        .form-group .required {
            color: #e74c3c;
        }

        .submit-btn {
            background-color: #4CAF50;
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1.1em;
            width: 100%;
            transition: background-color 0.3s;
        }

        .submit-btn:hover {
            background-color: #45a049;
        }

        .submit-btn:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }

        .success-message {
            display: none;
            background-color: #d4edda;
            color: #155724;
            padding: 15px;
            border-radius: 4px;
            margin-bottom: 20px;
            text-align: center;
        }

        .error-message {
            display: none;
            background-color: #f8d7da;
            color: #721c24;
            padding: 15px;
            border-radius: 4px;
            margin-bottom: 20px;
            text-align: center;
        }

        .loading {
            display: none;
            text-align: center;
            color: var(--text-secondary);
            transition: color 0.3s;
        }
    </style>
</head>
<body>
    <div class="header-buttons">
        <a href="index.html" class="home-btn">‚Üê Home</a>
        <button class="theme-toggle-btn" id="themeToggle">Switch to Light Mode</button>
    </div>

    <div class="ideas-container">
        <div class="ideas-header">
            <h1>Future Feature Ideas</h1>
        </div>

        <div class="info-box">
        <strong>Note: Please ensure your email is correct to receive a confirmation email. Emails are only used for confirmation and will not be shared. We will review all suggestions, but cannot guarantee implementation. We may reach out for additional details. Thank you for your input! - BloodVine</strong>
      </div>
        
        <div class="ideas-description">
            <p>Explain what feature you would like to be added.</p>
        </div>

        <div id="successMessage" class="success-message">
            Thank you for your suggestion! We've sent you a confirmation email.
        </div>

        <div id="errorMessage" class="error-message">
            Something went wrong. Please try again.
        </div>

        <div id="loading" class="loading">
            Sending your idea...
        </div>

        <form id="ideasForm">
            <div class="form-group">
                <label for="username">Cubic Castles Username <span class="required">*</span></label>
                <input type="text" id="username" name="username" required>
            </div>

            <div class="form-group">
                <label for="email">Email <span class="required">*</span></label>
                <input type="email" id="email" name="email" required>
            </div>

            <div class="form-group">
                <label for="message">Future Feature Idea <span class="required">*</span></label>
                <textarea id="message" name="message" required></textarea>
            </div>

            <button type="submit" class="submit-btn" id="submitBtn">Submit Idea</button>
        </form>
    </div>

    <script>
        // Theme Toggle Functionality
        const themeToggle = document.getElementById('themeToggle');
        const htmlElement = document.documentElement;

        // Initialize theme from localStorage or default to dark
        const savedTheme = localStorage.getItem('theme') || 'dark';
        htmlElement.setAttribute('data-theme', savedTheme);
        updateThemeButtonText(savedTheme);

        function updateThemeButtonText(theme) {
            themeToggle.textContent = theme === 'dark' ? 'Switch to Light Mode' : 'Switch to Dark Mode';
        }

        themeToggle.addEventListener('click', () => {
            const currentTheme = htmlElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            
            htmlElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            updateThemeButtonText(newTheme);
        });

        // Form Submission
        const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycby-BkeqCcZBDiyZdEWJ2O3jFD4277olz4rdl4vwH4zuLR0n7QZg71Hcb27M-02q918Q/exec'; // Replace with your Google Apps Script URL

        const form = document.getElementById('ideasForm');
        const submitBtn = document.getElementById('submitBtn');
        const successMessage = document.getElementById('successMessage');
        const errorMessage = document.getElementById('errorMessage');
        const loadingDiv = document.getElementById('loading');

        form.addEventListener('submit', function(e) {
            e.preventDefault();

            const username = document.getElementById('username').value.trim();
            const email = document.getElementById('email').value.trim();
            const message = document.getElementById('message').value.trim();

            if (!username || !email || !message) {
                errorMessage.textContent = 'Please fill in all required fields.';
                errorMessage.style.display = 'block';
                successMessage.style.display = 'none';
                return;
            }

            submitBtn.disabled = true;
            loadingDiv.style.display = 'block';
            successMessage.style.display = 'none';
            errorMessage.style.display = 'none';

            const formData = new FormData();
            formData.append('username', username);
            formData.append('email', email);
            formData.append('message', message);

            fetch(SCRIPT_URL, {
                method: 'POST',
                body: formData
            })
            .then(response => {
                loadingDiv.style.display = 'none';
                submitBtn.disabled = false;

                if (response.ok) {
                    successMessage.style.display = 'block';
                    form.reset();
                } else {
                    errorMessage.textContent = 'Error sending idea. Please try again.';
                    errorMessage.style.display = 'block';
                }
            })
            .catch(error => {
                console.error('Error:', error);
                loadingDiv.style.display = 'none';
                submitBtn.disabled = false;
                errorMessage.textContent = 'Error sending idea. Please check the console for details.';
                errorMessage.style.display = 'block';
            });
        });
    </script>
</body>
</html>