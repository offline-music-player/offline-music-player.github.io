<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéµ Music Player</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body data-theme="dark">
    <!-- Warning Bar (Top of Site) -->
    <div class="warning-bar" style="display: none;">
        <div class="warning-bar-content">
            ‚ö†Ô∏è Some features are currently disabled or experiencing issues
        </div>
    </div>

    <!-- Warning Popup Modal -->
    <div class="warning-popup" style="display: none;">
        <div class="warning-popup-content">
            <div class="warning-popup-header">
                <h2>‚ö†Ô∏è Feature Status</h2>
                <button class="warning-popup-close" onclick="closeWarningPopup()">√ó</button>
            </div>
            <div class="warning-popup-body">
                <p><strong>Currently Experiencing Issues:</strong></p>
                <ul>
                    <li>Spotify integration - Authentication in progress</li>
                </ul>
                <p style="margin-top: 15px; font-size: 0.9rem; color: var(--text-secondary);">
                    The core music player functionality (uploading and playing local files) is working normally.
                </p>
            </div>
            <div class="warning-popup-footer">
                <button class="warning-popup-btn" onclick="closeWarningPopup()">Got it</button>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="header">
            <h1 class="title">üéµ Music Player</h1>
            <div class="header-controls">
                <button class="theme-toggle" onclick="toggleTheme()">‚òÄÔ∏è Light Mode</button>
                <div class="dropdown" id="menuDropdown">
                    <button class="dropdown-btn" onclick="toggleDropdown()">
                        ‚ò∞ Menu
                    </button>
                    <div class="dropdown-content">
                        <a href="features.html" class="dropdown-item">
                            <span>üéØ</span>
                            <span>Features</span>
                        <a href="https://github.com/offline-music-player/offline-music-player.github.io" target="_blank" class="dropdown-item">
                            <svg width="20" height="20" viewBox="0 0 16 16" fill="currentColor">
                                <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"/>
                            </svg>
                            <span>GitHub Repository</span>
                        </a>
                        <a href="mailto:offline-music-player@proton.me" class="dropdown-item">
                            <span>‚úâÔ∏è</span>
                            <span>Send Email</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <div class="player-container">
            <div class="upload-area" id="uploadArea">
                <div class="upload-text">Drag & drop MP3 files here or</div>
                <button class="upload-btn" onclick="document.getElementById('fileInput').click()">Browse Files</button>
                <input type="file" id="fileInput" class="file-input" accept=".mp3,.wav,.ogg,.m4a" multiple>
            </div>

            <div class="current-song" id="currentSong">
                <div class="song-title" id="songTitle">No song selected</div>
                <div class="song-info" id="songInfo">Select a song to start playing</div>
            </div>

            <div class="controls">
                <button class="control-btn" onclick="previousSong()">‚èÆ</button>
                <button class="control-btn" onclick="rewind15()">‚è™</button>
                <button class="control-btn play-pause-btn" id="playPauseBtn" onclick="togglePlay()">‚ñ∂</button>
                <button class="control-btn" onclick="forward15()">‚è©</button>
                <button class="control-btn" onclick="nextSong()">‚è≠</button>
                <button class="control-btn" id="repeatBtn" onclick="toggleRepeat()" title="Repeat current song">
                    üîÅ
                    <div class="repeat-indicator"></div>
                </button>
                <button class="control-btn" id="shuffleBtn" onclick="toggleShuffle()" title="Shuffle playlist">
                    üîÄ
                    <div class="repeat-indicator"></div>
                </button>
            </div>

            <div class="progress-container">
                <div class="progress-bar" id="progressBar" onclick="seekTo(event)">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="time-display">
                    <span id="currentTime">0:00</span>
                    <span id="totalTime">0:00</span>
                </div>
            </div>

            <div class="volume-container">
                <span>üîà</span>
                <input type="range" class="volume-slider" id="volumeSlider" min="0" max="100" value="50">
                <span>üîä</span>
            </div>
        </div>

        <div class="playlist">
            <div class="playlist-title">Playlist</div>
            <div id="playlistContainer">
                <div class="empty-playlist">Your playlist is empty. Add some music to get started!</div>
            </div>
        </div>

        <!-- Download Songs Locally Section -->
        <div class="download-section">
            <h2>üéµ Download Songs Locally</h2>
            <p class="download-section-subtitle">Find and download any song from YouTube, Spotify, SoundCloud, and more</p>

            <!-- Download Sites -->
            <div class="download-sites-container">
                <div class="download-site-card">
                    <div class="site-name">MP3 Juice</div>
                    <div class="site-link">
                        <a href="https://v1.mp3juice.as/" target="_blank">https://v1.mp3juice.as/</a>
                    </div>
                    <div class="site-supports">
                        <span class="support-badge">YouTube</span>
                        <span class="support-badge">SoundCloud</span>
                        <span class="support-badge">Spotify Links</span>
                    </div>
                    <div class="site-note">‚ö†Ô∏è Note: Laggy interface, takes awhile to process, has ads</div>
                </div>
            </div>

            <!-- Instructions -->
            <div class="instructions-container">
                <h3>üìã How to Download Songs</h3>
                
                <div class="instruction-steps">
                    <div class="step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <div class="step-title">MP3 Juice</div>
                            <p>Go to the MP3 Juice website (https://v1.mp3juice.as/)</p>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <div class="step-title">Search for your Song</div>
                            <p>Paste your song name, YouTube link, or SoundCloud link into the search bar on MP3 Juice</p>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <div class="step-title">Wait for Results</div>
                            <p>Wait for results to load (can take 10-60 seconds)</p>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <div class="step-title">Select and Download</div>
                            <p>Make sure you select the correct format (mp3)</p>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">5</div>
                        <div class="step-content">
                            <div class="step-title">Import to Player</div>
                            <p>Use the Browse Files button above to add the downloaded MP3 to your offline music player OR drag and drop the file into the upload area</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <audio id="audioPlayer" preload="metadata"></audio>
    <script src="script.js"></script>
</body>
</html>