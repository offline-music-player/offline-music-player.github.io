<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸµ Music Player</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body data-theme="dark">
    <!-- Warning Bar (Top of Site) -->
    <div class="warning-bar" style="display: none;">
        <div class="warning-bar-content">
            âš ï¸ Some features are currently disabled or experiencing issues
        </div>
    </div>

    <!-- Warning Popup Modal -->
    <div class="warning-popup" style="display: none;">
        <div class="warning-popup-content">
            <div class="warning-popup-header">
                <h2>âš ï¸ Feature Status</h2>
                <button class="warning-popup-close" onclick="closeWarningPopup()">Ã—</button>
            </div>
            <div class="warning-popup-body">
                <p><strong>Currently Experiencing Issues:</strong></p>
                <ul>
                    <li></li>
                </ul>
                <p style="margin-top: 15px; font-size: 0.9rem; color: var(--text-secondary);">
                </p>
            </div>
            <div class="warning-popup-footer">
                <button class="warning-popup-btn" onclick="closeWarningPopup()">Got it</button>
            </div>
        </div>
    </div>

    <!-- Update Log Modal -->
    <div class="update-log" style="display: none;">
        <div class="update-log-content">
            <div class="update-log-header">
                <h2 data-update-log-title>Update Log</h2>
                <button class="update-log-close" onclick="closeUpdateLog()">Ã—</button>
            </div>
            <div class="update-log-body">
                <div class="update-log-meta">
                    <span class="update-log-label">Latest update:</span>
                    <span class="update-log-version" data-update-log-version>Feb 11, 2026</span>
                </div>
                <ul class="update-log-list" data-update-log-items>
                    <li>Loading updates...</li>
                </ul>
            </div>
            <div class="update-log-footer">
                <button class="update-log-btn" onclick="closeUpdateLog()">Close</button>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="header">
            <h1 class="title">ğŸµ Music Player</h1>
            <div class="header-controls">
                <button class="theme-toggle" onclick="toggleTheme()">â˜€ï¸ Light Mode</button>
                <div class="dropdown" id="menuDropdown">
                    <button class="dropdown-btn" onclick="toggleDropdown()">
                        â˜° Menu
                    </button>
                    <div class="dropdown-content">
                        <a href="ideas.html" class="dropdown-item">
                            <span>ğŸ’¡</span>
                            <span>Ideas</span>
                        </a>
                        <a href="features.html" class="dropdown-item">
                            <span>ğŸ¯</span>
                            <span>Features</span>
                        </a>
                        <a href="https://github.com/offline-music-player/offline-music-player.github.io" target="_blank" class="dropdown-item">
                            <svg width="20" height="20" viewBox="0 0 16 16" fill="currentColor">
                                <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"/>
                            </svg>
                            <span>GitHub Repository</span>
                        </a>
                        <a href="mailto:offline-music-player@proton.me" class="dropdown-item" target="_blank" rel="noopener">
                            <span>âœ‰ï¸</span>
                            <span>Send Email</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <div id="pipContent">
            <div class="player-container">
                <div class="upload-area" id="uploadArea">
                    <div class="upload-text">Drag & drop MP3 files here or</div>
                    <button class="upload-btn" onclick="document.getElementById('fileInput').click()">Browse Files</button>
                    <input type="file" id="fileInput" class="file-input" accept=".mp3,.wav,.ogg,.m4a" multiple>
                </div>

                <div class="current-song" id="currentSong">
                    <div class="song-title" id="songTitle">No song selected</div>
                    <div class="song-info" id="songInfo">Select a song to start playing</div>
                </div>

                <div class="controls">
                    <button class="control-btn" onclick="previousSong()">â®</button>
                    <button class="control-btn" onclick="rewind15()">âª</button>
                    <button class="control-btn play-pause-btn" id="playPauseBtn" onclick="togglePlay()">â–¶</button>
                    <button class="control-btn" onclick="forward15()">â©</button>
                    <button class="control-btn" onclick="nextSong()">â­</button>
                    <button class="control-btn" id="repeatBtn" onclick="toggleRepeat()" title="Repeat current song">
                        ğŸ”
                        <div class="repeat-indicator"></div>
                    </button>
                    <button class="control-btn" id="shuffleBtn" onclick="toggleShuffle()" title="Shuffle playlist">
                        ğŸ”€
                        <div class="repeat-indicator"></div>
                    </button>
                </div>

                <div class="progress-container">
                    <div class="progress-bar" id="progressBar" onclick="seekTo(event)">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <div class="time-display">
                        <span id="currentTime">0:00</span>
                        <span id="totalTime">0:00</span>
                    </div>
                </div>

                <div class="volume-container">
                    <span>ğŸ”ˆ</span>
                    <input type="range" class="volume-slider" id="volumeSlider" min="0" max="100" value="50">
                    <span>ğŸ”Š</span>
                </div>
            </div>

            <div class="playlist">
                <div class="playlist-title">Playlist</div>
                <div id="playlistContainer">
                    <div class="empty-playlist">Your playlist is empty. Add some music to get started!</div>
                </div>
            </div>
        </div>
        <div id="pipAnchor"></div>

    </div>

    <audio id="audioPlayer" preload="metadata"></audio>
    <div class="site-version" data-site-version></div>
    <script src="script.js"></script>
</body>
</html>
